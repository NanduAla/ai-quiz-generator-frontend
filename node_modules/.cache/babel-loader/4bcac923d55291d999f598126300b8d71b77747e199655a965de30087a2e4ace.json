{"ast":null,"code":"// frontend/src/components/QuizDisplay.jsx\nimport React,{useState}from'react';// Helper component for a single question\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function QuizQuestion(_ref){let{questionData,index}=_ref;const[showAnswer,setShowAnswer]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 mb-4 bg-white rounded-lg shadow-sm border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xl font-semibold text-gray-800 mb-3\",children:[index+1,\". \",questionData.question]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-4\",children:questionData.options.map((option,optIndex)=>/*#__PURE__*/_jsx(\"p\",{className:\"p-2 rounded-md transition duration-150 text-sm \".concat(showAnswer&&option===questionData.answer?'bg-green-100 border-l-4 border-green-500 text-green-700 font-medium':'bg-gray-50 text-gray-700'),children:option},optIndex))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnswer(!showAnswer),className:\"text-sm font-medium text-blue-600 hover:text-blue-800\",children:showAnswer?'Hide Answer/Explanation':'Show Answer & Explanation'}),showAnswer&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 border-t border-blue-200 space-y-1 bg-blue-50 rounded-b-lg text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Correct Answer:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:questionData.answer})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"capitalize font-semibold\",children:questionData.difficulty})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Explanation:\"}),\" \",questionData.explanation]})]})]});}export default function QuizDisplay(_ref2){let{quizData}=_ref2;// ðŸ›‘ CRITICAL FIX: Guard Clause to prevent 'map' on undefined\nif(!quizData||!quizData.quiz||quizData.quiz.length===0){if(quizData){// Data structure exists but quiz array is empty (e.g., LLM generation failure)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-yellow-100 text-yellow-800 rounded-lg mt-6\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Quiz metadata was generated, but the LLM failed to produce any questions. Try a different article.\"})});}return null;// Don't render anything if no data is present\n}const{title,summary,key_entities,quiz,related_topics}=quizData;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg border-t-4 border-indigo-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-indigo-700 mb-2\",children:title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 italic border-b pb-4 mb-4 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summary:\"}),\" \",summary]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-gray-700 mb-4\",children:[\"Questions (\",quiz.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:quiz.map((question,index)=>/*#__PURE__*/_jsx(QuizQuestion,{questionData:question,index:index},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-700 mb-2\",children:\"Key Entities\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"People:\"}),\" \",key_entities.people.join(', ')||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Organizations:\"}),\" \",key_entities.organizations.join(', ')||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Locations:\"}),\" \",key_entities.locations.join(', ')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-700 mb-2\",children:\"Related Topics\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-600 list-disc list-inside space-y-1\",children:related_topics.map((topic,index)=>/*#__PURE__*/_jsx(\"li\",{children:topic},index))})]})]})]});}","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","QuizQuestion","_ref","questionData","index","showAnswer","setShowAnswer","className","children","question","options","map","option","optIndex","concat","answer","onClick","difficulty","explanation","QuizDisplay","_ref2","quizData","quiz","length","title","summary","key_entities","related_topics","people","join","organizations","locations","topic"],"sources":["C:/Users/nandu/ai-quiz-generator/frontend/src/components/QuizDisplay.jsx"],"sourcesContent":["// frontend/src/components/QuizDisplay.jsx\r\nimport React, { useState } from 'react';\r\n\r\n// Helper component for a single question\r\nfunction QuizQuestion({ questionData, index }) {\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n\r\n  return (\r\n    <div className=\"p-4 mb-4 bg-white rounded-lg shadow-sm border border-gray-100\">\r\n      <h4 className=\"text-xl font-semibold text-gray-800 mb-3\">\r\n        {index + 1}. {questionData.question}\r\n      </h4>\r\n      <div className=\"space-y-2 mb-4\">\r\n        {questionData.options.map((option, optIndex) => (\r\n          <p \r\n            key={optIndex} \r\n            className={`p-2 rounded-md transition duration-150 text-sm ${\r\n                showAnswer && option === questionData.answer \r\n                ? 'bg-green-100 border-l-4 border-green-500 text-green-700 font-medium' \r\n                : 'bg-gray-50 text-gray-700'\r\n            }`}\r\n          >\r\n            {option}\r\n          </p>\r\n        ))}\r\n      </div>\r\n      \r\n      <button \r\n        onClick={() => setShowAnswer(!showAnswer)}\r\n        className=\"text-sm font-medium text-blue-600 hover:text-blue-800\"\r\n      >\r\n        {showAnswer ? 'Hide Answer/Explanation' : 'Show Answer & Explanation'}\r\n      </button>\r\n\r\n      {showAnswer && (\r\n        <div className=\"mt-3 p-3 border-t border-blue-200 space-y-1 bg-blue-50 rounded-b-lg text-sm\">\r\n          <p><strong>Correct Answer:</strong> <span className=\"text-green-600\">{questionData.answer}</span></p>\r\n          <p><strong>Difficulty:</strong> <span className=\"capitalize font-semibold\">{questionData.difficulty}</span></p>\r\n          <p><strong>Explanation:</strong> {questionData.explanation}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default function QuizDisplay({ quizData }) {\r\n    \r\n    // ðŸ›‘ CRITICAL FIX: Guard Clause to prevent 'map' on undefined\r\n    if (!quizData || !quizData.quiz || quizData.quiz.length === 0) {\r\n        if (quizData) {\r\n            // Data structure exists but quiz array is empty (e.g., LLM generation failure)\r\n            return <div className=\"p-4 bg-yellow-100 text-yellow-800 rounded-lg mt-6\">\r\n                <p>Quiz metadata was generated, but the LLM failed to produce any questions. Try a different article.</p>\r\n            </div>\r\n        }\r\n        return null; // Don't render anything if no data is present\r\n    }\r\n\r\n    const { title, summary, key_entities, quiz, related_topics } = quizData;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-lg border-t-4 border-indigo-500\">\r\n                <h2 className=\"text-3xl font-extrabold text-indigo-700 mb-2\">{title}</h2>\r\n                <p className=\"text-gray-600 italic border-b pb-4 mb-4 text-sm\">\r\n                    <strong>Summary:</strong> {summary}\r\n                </p>\r\n            </div>\r\n\r\n            {/* Quiz Questions */}\r\n            <div className=\"bg-gray-50 p-6 rounded-lg shadow-lg\">\r\n                <h3 className=\"text-2xl font-bold text-gray-700 mb-4\">Questions ({quiz.length})</h3>\r\n                <div className=\"space-y-4\">\r\n                    {/* Safe mapping thanks to the guard clause above */}\r\n                    {quiz.map((question, index) => (\r\n                        <QuizQuestion key={index} questionData={question} index={index} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Metadata */}\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n                    <h4 className=\"text-xl font-bold text-gray-700 mb-2\">Key Entities</h4>\r\n                    <div className=\"text-sm text-gray-600 space-y-1\">\r\n                        <p><strong>People:</strong> {key_entities.people.join(', ') || 'N/A'}</p>\r\n                        <p><strong>Organizations:</strong> {key_entities.organizations.join(', ') || 'N/A'}</p>\r\n                        <p><strong>Locations:</strong> {key_entities.locations.join(', ')}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n                    <h4 className=\"text-xl font-bold text-gray-700 mb-2\">Related Topics</h4>\r\n                    <ul className=\"text-sm text-gray-600 list-disc list-inside space-y-1\">\r\n                        {related_topics.map((topic, index) => (\r\n                            <li key={index}>{topic}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}