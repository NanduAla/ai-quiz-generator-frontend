{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nandu\\\\ai-quiz-generator\\\\frontend\\\\src\\\\tabs\\\\HistoryTab.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/tabs/HistoryTab.jsx\nimport React, { useState, useEffect, useCallback } from 'react';\nimport HistoryTable from '../components/HistoryTable';\nimport { getQuizHistory, getSingleQuiz } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HistoryTab({\n  setQuizData,\n  setView,\n  onStartLoading,\n  onStopLoading,\n  isLoading\n}) {\n  _s();\n  const [history, setHistory] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Memoized fetch function for re-use\n  const fetchHistory = useCallback(async () => {\n    onStartLoading();\n    setError(null);\n    try {\n      const data = await getQuizHistory();\n      setHistory(data);\n    } catch (err) {\n      setError(`Error fetching history: ${err.message}`);\n    } finally {\n      onStopLoading();\n    }\n  }, [onStartLoading, onStopLoading]);\n\n  // Initial data load\n  useEffect(() => {\n    fetchHistory();\n  }, [fetchHistory]);\n  const handleSelectQuiz = async quizId => {\n    onStartLoading();\n    setQuizData(null);\n    setError(null);\n    try {\n      const data = await getSingleQuiz(quizId);\n      setQuizData(data);\n      setView('generate'); // Switch to the generate tab to show the selected quiz\n    } catch (err) {\n      setError(`Error fetching quiz ${quizId}: ${err.message}`);\n    } finally {\n      onStopLoading();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 max-w-5xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: \"Quiz History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(HistoryTable, {\n      history: history,\n      isLoading: isLoading,\n      error: error,\n      onSelectQuiz: handleSelectQuiz\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-6\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchHistory,\n        disabled: isLoading,\n        className: \"py-2 px-4 text-sm bg-gray-200 rounded-lg hover:bg-gray-300 transition disabled:opacity-50\",\n        children: isLoading ? 'Refreshing...' : 'Refresh History'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(HistoryTab, \"ixmyj/iMQeLlU+tp6KBjth132HA=\");\n_c = HistoryTab;\nvar _c;\n$RefreshReg$(_c, \"HistoryTab\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","HistoryTable","getQuizHistory","getSingleQuiz","jsxDEV","_jsxDEV","HistoryTab","setQuizData","setView","onStartLoading","onStopLoading","isLoading","_s","history","setHistory","error","setError","fetchHistory","data","err","message","handleSelectQuiz","quizId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSelectQuiz","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/nandu/ai-quiz-generator/frontend/src/tabs/HistoryTab.jsx"],"sourcesContent":["// frontend/src/tabs/HistoryTab.jsx\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport HistoryTable from '../components/HistoryTable';\r\nimport { getQuizHistory, getSingleQuiz } from '../services/api';\r\n\r\nexport default function HistoryTab({ setQuizData, setView, onStartLoading, onStopLoading, isLoading }) {\r\n  const [history, setHistory] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Memoized fetch function for re-use\r\n  const fetchHistory = useCallback(async () => {\r\n    onStartLoading();\r\n    setError(null);\r\n    try {\r\n      const data = await getQuizHistory();\r\n      setHistory(data);\r\n    } catch (err) {\r\n      setError(`Error fetching history: ${err.message}`);\r\n    } finally {\r\n      onStopLoading();\r\n    }\r\n  }, [onStartLoading, onStopLoading]);\r\n\r\n  // Initial data load\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, [fetchHistory]);\r\n\r\n\r\n  const handleSelectQuiz = async (quizId) => {\r\n    onStartLoading();\r\n    setQuizData(null);\r\n    setError(null);\r\n\r\n    try {\r\n      const data = await getSingleQuiz(quizId);\r\n      setQuizData(data);\r\n      setView('generate'); // Switch to the generate tab to show the selected quiz\r\n    } catch (err) {\r\n      setError(`Error fetching quiz ${quizId}: ${err.message}`);\r\n    } finally {\r\n      onStopLoading();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-5xl mx-auto\">\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Quiz History</h2>\r\n        <HistoryTable \r\n            history={history} \r\n            isLoading={isLoading} \r\n            error={error} \r\n            onSelectQuiz={handleSelectQuiz} \r\n        />\r\n        <div className=\"text-center mt-6\">\r\n             <button\r\n                onClick={fetchHistory}\r\n                disabled={isLoading}\r\n                className=\"py-2 px-4 text-sm bg-gray-200 rounded-lg hover:bg-gray-300 transition disabled:opacity-50\"\r\n            >\r\n                {isLoading ? 'Refreshing...' : 'Refresh History'}\r\n            </button>\r\n        </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}